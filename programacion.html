<div id="div_programacion_plantilla">
</div>
<div id="div_programacion_calendario">
    <div class="row">
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div id="div_programacion_menu"></div>
        </div>
        <div class="col-lg-9 col-md-8 col-sm-6">
            <div id='calendar'></div>
        </div>
    </div>
</div>
<div id="div_programacion_pantalla">
    <div class="row">
        <div class="col-lg-4 col-md-4 col-sm-12">
            <div id="div_programacion_paises">
                <div id="div_programacion_paises_lista"></div>
            </div>
        </div>
        <div class="col-lg-8 col-md-8 col-sm-12">
            <div id='div_programacion_pantallas'>
                <div class="form-group has-feedback">
                    <input type="text" class="form-control" id="filtrar_pantallas" placeholder="Buscar por CÃ³digo Postal..." />
                    <i class="glyphicon glyphicon-search form-control-feedback"></i>
                </div>
                <div id="div_programacion_pantallas_lista"></div>
                <center>
                    <button id="btn_pantallas_continuar" onclick="pre_calendario()" style="display:none" type="button" class="btn btn-success btn-md">
                        <i class="glyphicon glyphicon-ok"></i> Continuar
                    </button>
                </center>
            </div>
        </div>
    </div>
</div>
<script>
    function pre_calendario() {
        var array = [];
        for (var i = 0; i < array_pantallas.length; i++) {
            if (array_pantallas[i].seleccionada) {
                array.push(array_pantallas[i].id_externo);
            }
        }
        console.log(array);
        nueva_programacion['id_pantallas'] = array;
        $("#div_programacion_plantilla").hide();
        $("#div_programacion_pantalla").hide();
        $("#div_programacion_calendario").show();
        cargar_calendario('editar');
        getProgramacion();

    }
    $('#filtrar_pantallas').on('keyup', function () {
        var palabra = this.value;
        var datos;
        if (this.value.length > 1) {
            datos = filtra_datos(palabra, array_pantallas, 'codigo_postal');
            cargar_pantallas(datos, 'pantallas', 'pantallas');
        } else {
            datos = array_pantallas;
            cargar_pantallas(datos, 'pantallas', 'pantallas');
        }
    });
</script>